{"componentChunkName":"component---src-templates-blog-post-js","path":"/java-shell-command/","result":{"data":{"site":{"siteMetadata":{"title":"Evil Mouth","author":{"name":"Evil Mouth"}}},"markdownRemark":{"id":"5354313c-7e58-55d9-afe9-17a3cdbea8f5","excerpt":"https://github.com/izyhang/ShellCommand 习惯直接在电脑终端执行命令控制连接电脑的设备，最近在帮别人弄个软件类似脚本自动运行，一开始就想到直接用命令在手机上跑，毕竟这功能特别强大，但是真正实现起来还是有坑的。 可以直接看上面的链接拉依赖下来，使用直接运行命令，比如 注意在 pc…","html":"<p><a href=\"https://github.com/izyhang/ShellCommand\">https://github.com/izyhang/ShellCommand</a></p>\n<!-- More -->\n<p>习惯直接在电脑终端执行<code class=\"language-text\">Shell</code>命令控制连接电脑的<code class=\"language-text\">Android</code>设备，最近在帮别人弄个软件类似脚本自动运行，一开始就想到直接用<code class=\"language-text\">Shell</code>命令在手机上跑，毕竟这功能特别强大，但是真正实现起来还是有坑的。</p>\n<p>可以直接看上面的链接拉依赖下来，使用<code class=\"language-text\">ShellCommand.exec(String,boolean)</code>直接运行命令，比如</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">ShellCommand</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"monkey -vvv 1000\"</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>注意在 pc 上原命令是<code class=\"language-text\">adb shell monkey -vvv 1000</code>\n在手机上运行就可以忽略掉<code class=\"language-text\">adb shell</code>了</p>\n<h3>monkey.script</h3>\n<p>monkey 是 Android 一个压力测试工具，使用方法以及常用命令可以看官网<a href=\"https://developer.android.com/studio/test/monkey.htmlhttps://developer.android.com/studio/test/monkey.html\">https://developer.android.com/studio/test/monkey.html</a></p>\n<p>这里要讲的是一个隐藏功能<code class=\"language-text\">monkey.script</code>，可以直接新建这个文件，编辑一堆命令，并保存到手机，最后执行</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">adb shell monkey -f filePath <span class=\"token number\">1</span></code></pre></div>\n<p>具体<code class=\"language-text\">monkey.script</code>文件编写如下</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">type = user\ncount = 1\nspeed = 500\nstart data >>\n//这里开始你的表演(自定义命令)</code></pre></div>\n<p>自定义命令有(详情可以看<a href=\"http://www.jianshu.com/p/85454be8424f\">http://www.jianshu.com/p/85454be8424f</a>)</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">LaunchActivity ( pkg_name , act_name )\nUserWait ( sleepTime )\nDispatchPointer\nDispatchKey\nDispatchFlip ( keyboardOpen )\nDispatchString( input )\n...</code></pre></div>\n<h3>还有这个</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">adb shell input tap <span class=\"token number\">50</span> <span class=\"token number\">250</span> //点击屏幕坐标<span class=\"token punctuation\">(</span><span class=\"token number\">50,250</span><span class=\"token punctuation\">)</span>\nadb shell inpput swipe <span class=\"token number\">50</span> <span class=\"token number\">250</span> <span class=\"token number\">250</span> <span class=\"token number\">250</span> <span class=\"token number\">500</span> //滑动\nadb shell input text abd //输入abc\nadb shell input keyevent keyCode //点击功能键</code></pre></div>\n<p>功能键表如下</p>\n<div class=\"gatsby-highlight\" data-language=\"none\"><pre class=\"language-none\"><code class=\"language-none\">KEYCODE_UNKNOWN=0;\n\nKEYCODE_SOFT_LEFT=1;\n\nKEYCODE_SOFT_RIGHT=2;\n\nKEYCODE_HOME=3;\n\nKEYCODE_BACK=4;\n\nKEYCODE_CALL=5;\n\nKEYCODE_ENDCALL=6;\n\nKEYCODE_0=7;\n\nKEYCODE_1=8;\n\nKEYCODE_2=9;\n\nKEYCODE_3=10;\n\nKEYCODE_4=11;\n\nKEYCODE_5=12;\n\nKEYCODE_6=13;\n\nKEYCODE_7=14;\n\nKEYCODE_8=15;\n\nKEYCODE_9=16;\n\nKEYCODE_STAR=17;\n\nKEYCODE_POUND=18;\n\nKEYCODE_DPAD_UP=19;\n\nKEYCODE_DPAD_DOWN=20;\n\nKEYCODE_DPAD_LEFT=21;\n\nKEYCODE_DPAD_RIGHT=22;\n\nKEYCODE_DPAD_CENTER=23;\n\nKEYCODE_VOLUME_UP=24;\n\nKEYCODE_VOLUME_DOWN=25;\n\nKEYCODE_POWER=26;\n\nKEYCODE_CAMERA=27;\n\nKEYCODE_CLEAR=28;\n\nKEYCODE_A=29;\n\nKEYCODE_B=30;\n\nKEYCODE_C=31;\n\nKEYCODE_D=32;\n\nKEYCODE_E=33;\n\nKEYCODE_F=34;\n\nKEYCODE_G=35;\n\nKEYCODE_H=36;\n\nKEYCODE_I=37;\n\nKEYCODE_J=38;\n\nKEYCODE_K=39;\n\nKEYCODE_L=40;\n\nKEYCODE_M=41;\n\nKEYCODE_N=42;\n\nKEYCODE_O=43;\n\nKEYCODE_P=44;\n\nKEYCODE_Q=45;\n\nKEYCODE_R=46;\n\nKEYCODE_S=47;\n\nKEYCODE_T=48;\n\nKEYCODE_U=49;\n\nKEYCODE_V=50;\n\nKEYCODE_W=51;\n\nKEYCODE_X=52;\n\nKEYCODE_Y=53;\n\nKEYCODE_Z=54;\n\nKEYCODE_COMMA=55;\n\nKEYCODE_PERIOD=56;\n\nKEYCODE_ALT_LEFT=57;\n\nKEYCODE_ALT_RIGHT=58;\n\nKEYCODE_SHIFT_LEFT=59;\n\nKEYCODE_SHIFT_RIGHT=60;\n\nKEYCODE_TAB=61;\n\nKEYCODE_SPACE=62;\n\nKEYCODE_SYM=63;\n\nKEYCODE_EXPLORER=64;\n\nKEYCODE_ENVELOPE=65;\n\nKEYCODE_ENTER=66;\n\nKEYCODE_DEL=67;\n\nKEYCODE_GRAVE=68;\n\nKEYCODE_MINUS=69;\n\nKEYCODE_EQUALS=70;\n\nKEYCODE_LEFT_BRACKET=71;\n\nKEYCODE_RIGHT_BRACKET=72;\n\nKEYCODE_BACKSLASH=73;\n\nKEYCODE_SEMICOLON=74;\n\nKEYCODE_APOSTROPHE=75;\n\nKEYCODE_SLASH=76;\n\nKEYCODE_AT=77;\n\nKEYCODE_NUM=78;\n\nKEYCODE_HEADSETHOOK=79;\n\nKEYCODE_FOCUS=80;//*Camera*focus\n\nKEYCODE_PLUS=81;\n\nKEYCODE_MENU=82;\n\nKEYCODE_NOTIFICATION=83;\n\nKEYCODE_SEARCH=84;\n\nKEYCODE_MEDIA_PLAY_PAUSE=85;\n\nKEYCODE_MEDIA_STOP=86;\n\nKEYCODE_MEDIA_NEXT=87;\n\nKEYCODE_MEDIA_PREVIOUS=88;\n\nKEYCODE_MEDIA_REWIND=89;\n\nKEYCODE_MEDIA_FAST_FORWARD=90;\n\nKEYCODE_MUTE=91;</code></pre></div>","frontmatter":{"title":"在java中调用shell命令","date":"May 27, 2017","tags":["shell"],"categories":"Java"}}},"pageContext":{"slug":"/java-shell-command/","previous":{"fields":{"slug":"/maven-jitpack/"},"frontmatter":{"title":"上传项目到jitpack"}},"next":{"fields":{"slug":"/java-excel-poi/"},"frontmatter":{"title":"使用POI读写Excel"}}}},"staticQueryHashes":["2841359383"]}