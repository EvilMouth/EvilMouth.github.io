{"componentChunkName":"component---src-templates-blog-post-js","path":"/geng-jian-dan-fang-shi-shang-chuan-jcenter-novoda/","result":{"data":{"site":{"siteMetadata":{"title":"Evil Mouth","author":{"name":"Evil Mouth"}}},"markdownRemark":{"id":"6e355f93-f63f-5e0f-b4f4-a698837ee6dd","excerpt":"整理了一下使用流程和步骤，结合项目结构，整合出一份通用并且更简单的使用方式 一键上传\n支持多 Library 上传 0x00 注册 bintray 注册这个步骤就不打扰了https://blog.zyhang.com/maven-jcenter/ 0x01 配置步骤 先放上链接\nhttps://github.com…","html":"<p>整理了一下<code class=\"language-text\">novoda</code>使用流程和步骤，结合<code class=\"language-text\">Android</code>项目结构，整合出一份通用并且更简单的使用方式</p>\n<blockquote>\n<p>一键上传\n支持多 Library 上传</p>\n</blockquote>\n<!-- More -->\n<h2>0x00 注册 bintray</h2>\n<p>注册<code class=\"language-text\">bintray</code>这个步骤就不打扰了<a href=\"https://blog.zyhang.com/maven-jcenter/\">https://blog.zyhang.com/maven-jcenter/</a></p>\n<h2>0x01 配置步骤</h2>\n<p>先放上<code class=\"language-text\">novoda</code>链接\n<a href=\"https://github.com/novoda/bintray-release\">https://github.com/novoda/bintray-release</a></p>\n<p>再放上我的<code class=\"language-text\">demo</code>链接\n<a href=\"https://github.com/izyhang/novoda-push\">https://github.com/izyhang/novoda-push</a></p>\n<h3>需要修改的文件</h3>\n<ul>\n<li>根 build.gradle - 添加 novoda 依赖</li>\n<li>根 gradle.properties - 配置仓库通用属性</li>\n<li>仓库 build.gradle - 添加 fuck 命令依赖</li>\n<li>仓库 gradle.properties - 配置仓库具体属性</li>\n<li>根 local.properties - 配置 bintray 密匙</li>\n</ul>\n<h3>添加 novoda 依赖</h3>\n<p>在项目<code class=\"language-text\">根build.gradle</code>添加 novoda 依赖</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">buildscript <span class=\"token punctuation\">{</span>\n    repositories <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// novoda依赖需要依赖jcenter</span>\n        <span class=\"token function\">jcenter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dependencies <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 添加novoda依赖</span>\n        classpath <span class=\"token string\">'com.novoda:bintray-release:0.8.1'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>配置仓库通用属性</h3>\n<p>在项目<code class=\"language-text\">根gradle.properties</code>配置仓库通用属性</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">POM_GROUP_ID</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">com.zyhang</span>\n<span class=\"token attr-name\">POM_PUBLISH_VERSION</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">2.0.0-alpha</span>\n\n<span class=\"token attr-name\">POM_REPO_NAME</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">maven</span>\n<span class=\"token attr-name\">POM_USER_ORG</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">zyhang</span>\n<span class=\"token attr-name\">POM_LICENCES</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">Apache-2.0</span>\n<span class=\"token attr-name\">POM_WEBSITE</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">https://github.com/izyhang/Damon</span>\n<span class=\"token attr-name\">POM_ISSUE_TRACKER</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">https://github.com/izyhang/Damon/issues</span>\n<span class=\"token attr-name\">POM_REPOSITORY</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">https://github.com/izyhang/Damon.git</span></code></pre></div>\n<h3>配置仓库具体属性</h3>\n<p>在具体仓库（也就是 Library Module）<code class=\"language-text\">gradle.properties</code>配置仓库具体属性</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">POM_UPLOAD_NAME</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">Damon</span>\n<span class=\"token attr-name\">POM_ARTIFACT_ID</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">damon</span>\n<span class=\"token attr-name\">POM_DESC</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">mvp framework</span></code></pre></div>\n<h3>添加 fuck 命令依赖</h3>\n<p>在具体仓库（也就是 Library Module）<code class=\"language-text\">build.gradle</code>添加 fuck 命令依赖</p>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">apply plugin<span class=\"token punctuation\">:</span> <span class=\"token string\">'com.android.library'</span>\n\nandroid <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">...</span>\n    defaultConfig <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">...</span>\n        versionCode <span class=\"token number\">1</span>\n        versionName POM_PUBLISH_VERSION <span class=\"token comment\">// 建议加上这句</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 在底部加上这句</span>\napply from<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://raw.githubusercontent.com/izyhang/novoda-push/master/gradle/push.gradle'</span></code></pre></div>\n<h3>配置 bintray 密匙</h3>\n<p>在根<code class=\"language-text\">local.properties</code>配置<code class=\"language-text\">bintray</code>密匙</p>\n<div class=\"gatsby-highlight\" data-language=\"properties\"><pre class=\"language-properties\"><code class=\"language-properties\"><span class=\"token attr-name\">bintray.user</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">***</span>\n<span class=\"token attr-name\">bintray.apikey</span><span class=\"token punctuation\">=</span><span class=\"token attr-value\">******</span></code></pre></div>\n<h2>0x02 使用步骤</h2>\n<p>在配置后各属性后，直接执行具体<code class=\"language-text\">Library Module</code>的<code class=\"language-text\">fuck</code>命令。\n之后更新版本就是修改<code class=\"language-text\">根gradle.properties</code>文件的<code class=\"language-text\">POM_PUBLISH_VERSION</code>后执行<code class=\"language-text\">fuck</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/482a493e8fea0ff4d51334a93c51d74d/31be4/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 145.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB5k3NzjRWoDB//8QAFhABAQEAAAAAAAAAAAAAAAAAEEEB/9oACAEBAAEFAoQxh//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CT//EABoQAAMBAAMAAAAAAAAAAAAAAAABERAhMWH/2gAIAQEAAT8hepRCM6HPmIPP/9oADAMBAAIAAwAAABDz2I3/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhEFExQWGRsf/aAAgBAQABPxCwH7kGlJHuNozwH1Hdb7hPAmL3BYDducjbx//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/482a493e8fea0ff4d51334a93c51d74d/1c72d/1.jpg\"\n        srcset=\"/static/482a493e8fea0ff4d51334a93c51d74d/a80bd/1.jpg 148w,\n/static/482a493e8fea0ff4d51334a93c51d74d/1c91a/1.jpg 295w,\n/static/482a493e8fea0ff4d51334a93c51d74d/1c72d/1.jpg 590w,\n/static/482a493e8fea0ff4d51334a93c51d74d/31be4/1.jpg 806w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>0x03 一些坑</h2>\n<ul>\n<li>使用<code class=\"language-text\">kotlin</code>编写的项目可能会遇到<code class=\"language-text\">.kt</code>文件无法生成<code class=\"language-text\">javadoc</code>情况，可以在<code class=\"language-text\">根build.gradle</code>文件下添加</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">tasks<span class=\"token punctuation\">.</span><span class=\"token function\">getByPath</span><span class=\"token punctuation\">(</span><span class=\"token string gstring\">\":your module:releaseAndroidJavadocs\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></code></pre></div>","frontmatter":{"title":"更简单的方式上传jcenter","date":"August 10, 2018","tags":["jcenter","novoda"],"categories":"Maven"}}},"pageContext":{"slug":"/geng-jian-dan-fang-shi-shang-chuan-jcenter-novoda/","previous":{"fields":{"slug":"/android-brower-scheme-app-zong-jie-magic-window-fen-xi/"},"frontmatter":{"title":"Android浏览器们Scheme跳转App总结+魔窗分析"}},"next":{"fields":{"slug":"/android-mvp-lifecycle-multi-presenter-damon/"},"frontmatter":{"title":"Android MVP - 拥有完整生命周期的Presenter，支持Multi P"}}}},"staticQueryHashes":["2841359383"]}