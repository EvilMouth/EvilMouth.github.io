{"componentChunkName":"component---src-templates-blog-post-js","path":"/alipay-tinyapp-zhi-ding-ye-mian-tiao-zhuan/","result":{"data":{"site":{"siteMetadata":{"title":"Evil Mouth's Blog"}},"markdownRemark":{"id":"2777e014-b739-59cd-a13c-4ffe73c5ff99","excerpt":"支付宝小程序支持从外部调起，具体做法是通过，如下 appId 是小程序唯一Id pagePath 是页面路径，也就是本文要讲的，不带则跳首页 params 是额外参数 更多信息请前往官网\nhttps://opensupport.alipay.com/support/knowledge/3186…","html":"<p>支付宝小程序支持从外部调起，具体做法是通过<code class=\"language-text\">scheme</code>，如下</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">alipays://platformapi/startapp?appId=[appId]&amp;page=[pagePath]&amp;query=[params]</code></pre></div>\n<ul>\n<li>appId 是小程序唯一Id</li>\n<li>pagePath 是页面路径，也就是本文要讲的，不带则跳首页</li>\n<li>params 是额外参数</li>\n</ul>\n<blockquote>\n<p>更多信息请前往官网\n<a href=\"https://opensupport.alipay.com/support/knowledge/31867/201602383690?ant_source=zsearch\">https://opensupport.alipay.com/support/knowledge/31867/201602383690?ant_source=zsearch</a></p>\n</blockquote>\n<!-- More -->\n<h2>例子 - 答答星球</h2>\n<h3>如何拿到答答星球的appId</h3>\n<ul>\n<li>最简单的方法就是通过小程序分享功能，分享到钉钉，再打开，复制链接，可以拿到这么一串url\n<a href=\"https://render.alipay.com/p/s/i/?scheme=alipays%3A%2F%2Fplatformapi%2Fstartapp%3FappId%3D77700189%26page%3Dpages%252Findex%252Findex%26enbsv%3D0.1.2003090940.1%26chInfo%3Dch_share__chsub_DingTalkSession\">https://render.alipay.com/p/s/i/?scheme=alipays%3A%2F%2Fplatformapi%2Fstartapp%3FappId%3D77700189%26page%3Dpages%252Findex%252Findex%26enbsv%3D0.1.2003090940.1%26chInfo%3Dch_share__chsub_DingTalkSession</a></li>\n<li>decode一下scheme部分\nalipays://platformapi/startapp?appId=77700189&#x26;page=pages%2Findex%2Findex&#x26;enbsv=0.1.2003090940.1&#x26;chInfo=ch<em>share__chsub</em>DingTalkSession</li>\n<li>其中的77700189就是答答星球的appId</li>\n</ul>\n<blockquote>\n<p>page部分再decode则是pages/index/index，首页的意思，但是我想跳到其他页面那就得知道路径</p>\n</blockquote>\n<h3>拿路径</h3>\n<ul>\n<li>一台root的手机</li>\n<li>进入到<code class=\"language-text\">data/data/com.eg.android.AlipayGphone/files/nebulaInstallApps</code>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/15a737dee3f00b2776ecef53fc056b51/47311/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 208.10810810810813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAqABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQCAwUB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHN0qbniO2JaZ6JfQs1OramIP/EABwQAAMAAgMBAAAAAAAAAAAAAAABAhMxEBEyIf/aAAgBAQABBQLDRgow2R8XEeVojytEaFSolLoS6P/EABcRAAMBAAAAAAAAAAAAAAAAAAABESD/2gAIAQMBAT8BhMI//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPwGlwz//xAAZEAADAAMAAAAAAAAAAAAAAAAAATIgITD/2gAIAQEABj8CghkPpp4f/8QAHxABAAEDBAMAAAAAAAAAAAAAAREAECExQVGhYZHR/9oACAEBAAE/IfMuUOHb1QyWWMPO/wAvSRr3eOGOrFSSaUDECiiDAGa//9oADAMBAAIAAwAAABAk2nys7//EABcRAQADAAAAAAAAAAAAAAAAAAEAEDH/2gAIAQMBAT8QrMoyJQWf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQAQEf/aAAgBAgEBPxDBxgDwv//EAB8QAQACAgICAwAAAAAAAAAAAAEAESExEFFBYYGx0f/aAAgBAQABPxC0zh0XBf0ikiyQ24wN9C/cC4ROzjUFXoO/SpZF8WBtly28vdQUN/N8MW0bd0d+1YajkCVJ3DQYLorzNIUGKaCp/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jsdelivr\"\n        title=\"jsdelivr\"\n        src=\"/static/15a737dee3f00b2776ecef53fc056b51/1c72d/1.jpg\"\n        srcset=\"/static/15a737dee3f00b2776ecef53fc056b51/a80bd/1.jpg 148w,\n/static/15a737dee3f00b2776ecef53fc056b51/1c91a/1.jpg 295w,\n/static/15a737dee3f00b2776ecef53fc056b51/1c72d/1.jpg 590w,\n/static/15a737dee3f00b2776ecef53fc056b51/a8a14/1.jpg 885w,\n/static/15a737dee3f00b2776ecef53fc056b51/47311/1.jpg 1080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>找到77700189\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82adaf75820a83ca819cb1fb9239eb55/47311/2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 208.10810810810813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAqABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIFAQP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAbantc4rbEX1NAAQ6T//xAAbEAACAgMBAAAAAAAAAAAAAAAAAgETEBEwMf/aAAgBAQABBQKlililxfMa4Q0NmI0f/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPwGEwj//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/AaXDP//EABkQAAIDAQAAAAAAAAAAAAAAAAABICEyMP/aAAgBAQAGPwLBhmGVXOnD/8QAHRABAAEEAwEAAAAAAAAAAAAAAQAQESFhIDFB8P/aAAgBAQABPyHcrQYgDriC+lLvmHMq5J1Ug2AzP//aAAwDAQACAAMAAAAQd9AAAy//xAAXEQEAAwAAAAAAAAAAAAAAAAABABEg/9oACAEDAQE/EMqUtn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/EMkJxH//xAAeEAEAAgEEAwAAAAAAAAAAAAABABFBECExUSDR8P/aAAgBAQABPxC032eC4P7ItLKEcWeo14Tu9C8u6+cQVivNyBKk71KDFNBU/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jsdelivr\"\n        title=\"jsdelivr\"\n        src=\"/static/82adaf75820a83ca819cb1fb9239eb55/1c72d/2.jpg\"\n        srcset=\"/static/82adaf75820a83ca819cb1fb9239eb55/a80bd/2.jpg 148w,\n/static/82adaf75820a83ca819cb1fb9239eb55/1c91a/2.jpg 295w,\n/static/82adaf75820a83ca819cb1fb9239eb55/1c72d/2.jpg 590w,\n/static/82adaf75820a83ca819cb1fb9239eb55/a8a14/2.jpg 885w,\n/static/82adaf75820a83ca819cb1fb9239eb55/47311/2.jpg 1080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>其中的tar文件就是答答星球打包后的压缩包</li>\n<li>传到电脑解压拿到所有页面路径\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d571a9ed50a5ac264b44766a481fe7f/85814/3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeXM6MAsCA//xAAVEAEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAQABBQJYJ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAQADAQEAAAAAAAAAAAAAAAEAECERMf/aAAgBAQABPyHIgdNjXiNNf//aAAwDAQACAAMAAAAQkAc8/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQMBAT8QI//EABURAQEAAAAAAAAAAAAAAAAAAAEg/9oACAECAQE/EGP/xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhMRBxsf/aAAgBAQABPxCsHcZyI7QkcHo9WNW2PXL/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jsdelivr\"\n        title=\"jsdelivr\"\n        src=\"/static/8d571a9ed50a5ac264b44766a481fe7f/1c72d/3.jpg\"\n        srcset=\"/static/8d571a9ed50a5ac264b44766a481fe7f/a80bd/3.jpg 148w,\n/static/8d571a9ed50a5ac264b44766a481fe7f/1c91a/3.jpg 295w,\n/static/8d571a9ed50a5ac264b44766a481fe7f/1c72d/3.jpg 590w,\n/static/8d571a9ed50a5ac264b44766a481fe7f/a8a14/3.jpg 885w,\n/static/8d571a9ed50a5ac264b44766a481fe7f/fbd2c/3.jpg 1180w,\n/static/8d571a9ed50a5ac264b44766a481fe7f/85814/3.jpg 1386w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h3>跳转</h3>\n<p>比方说想要跳转到答答星球的天天涨知识页面<code class=\"language-text\">pages/domain/home/index</code></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> scheme <span class=\"token operator\">=</span> <span class=\"token string\">\"alipays://platformapi/startapp?appId=77700189&amp;page=pages%2Fdomain%2Fhome%2Findex\"</span>\n<span class=\"token keyword\">val</span> intent <span class=\"token operator\">=</span> <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span>Intent<span class=\"token punctuation\">.</span>ACTION_VIEW<span class=\"token punctuation\">,</span> Uri<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>scheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nintent<span class=\"token punctuation\">.</span><span class=\"token function\">addFlags</span><span class=\"token punctuation\">(</span>Intent<span class=\"token punctuation\">.</span>FLAG_ACTIVITY_NEW_TASK<span class=\"token punctuation\">)</span>\n<span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>intent<span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"支付宝小程序指定页面跳转","date":"March 11, 2020","tags":["alipay","tinyapp","route"],"categories":"Android"}}},"pageContext":{"slug":"/alipay-tinyapp-zhi-ding-ye-mian-tiao-zhuan/","previous":{"fields":{"slug":"/fa-bu-android-ku-dao-github-packages/"},"frontmatter":{"title":"发布Android库到GitHub Packages"}},"next":{"fields":{"slug":"/arouter-autowired-zi-dong-zhu-ru/"},"frontmatter":{"title":"ARouter @Autowired 自动注入"}}}},"staticQueryHashes":["2841359383"]}