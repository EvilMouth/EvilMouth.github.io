{"componentChunkName":"component---src-templates-blog-post-js","path":"/alipay-tinyapp-zhi-ding-ye-mian-tiao-zhuan/","result":{"data":{"site":{"siteMetadata":{"title":"Evil Mouth","author":{"name":"Evil Mouth"}}},"markdownRemark":{"id":"1637aa95-aabc-57c8-b084-da6fe91c3429","excerpt":"支付宝小程序支持从外部调起，具体做法是通过，如下 alipays://platformapi/startapp?appId=[appId]&page=[pagePath]&query=[params] appId 是小程序唯一 Id pagePath 是页面路径，也就是本文要讲的，不带则跳首页 params…","html":"<p>支付宝小程序支持从外部调起，具体做法是通过<code class=\"language-text\">scheme</code>，如下</p>\n<p>alipays://platformapi/startapp?appId=[appId]&#x26;page=[pagePath]&#x26;query=[params]</p>\n<ul>\n<li>appId 是小程序唯一 Id</li>\n<li>pagePath 是页面路径，也就是本文要讲的，不带则跳首页</li>\n<li>params 是额外参数</li>\n</ul>\n<blockquote>\n<p>更多信息请前往官网\n<a href=\"https://opensupport.alipay.com/support/knowledge/31867/201602383690?ant_source=zsearch\">https://opensupport.alipay.com/support/knowledge/31867/201602383690?ant_source=zsearch</a></p>\n</blockquote>\n<!-- More -->\n<h2>例子 - 答答星球</h2>\n<h3>如何拿到答答星球的 appId</h3>\n<ul>\n<li>最简单的方法就是通过小程序分享功能，分享到钉钉，再打开，复制链接，可以拿到这么一串 url\n<a href=\"https://render.alipay.com/p/s/i/?scheme=alipays%3A%2F%2Fplatformapi%2Fstartapp%3FappId%3D77700189%26page%3Dpages%252Findex%252Findex%26enbsv%3D0.1.2003090940.1%26chInfo%3Dch_share__chsub_DingTalkSession\">https://render.alipay.com/p/s/i/?scheme=alipays%3A%2F%2Fplatformapi%2Fstartapp%3FappId%3D77700189%26page%3Dpages%252Findex%252Findex%26enbsv%3D0.1.2003090940.1%26chInfo%3Dch_share__chsub_DingTalkSession</a></li>\n<li>decode 一下 scheme 部分\nalipays://platformapi/startapp?appId=77700189&#x26;page=pages%2Findex%2Findex&#x26;enbsv=0.1.2003090940.1&#x26;chInfo=ch_share__chsub_DingTalkSession</li>\n<li>其中的 77700189 就是答答星球的 appId</li>\n</ul>\n<blockquote>\n<p>page 部分再 decode 则是 pages/index/index，首页的意思，但是我想跳到其他页面那就得知道路径</p>\n</blockquote>\n<h3>拿路径</h3>\n<ul>\n<li>一台 root 的手机</li>\n<li>进入到<code class=\"language-text\">data/data/com.eg.android.AlipayGphone/files/nebulaInstallApps</code>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/47311/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 208.10810810810813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAqABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgUD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAG5pM3OIbYLMLsSyAqzPLqlSQ//xAAdEAADAAICAwAAAAAAAAAAAAAAAQITMQMyEBEh/9oACAEBAAEFAsNGCjDZx/F4jqtEdVojQqVEpJCXo//EABcRAAMBAAAAAAAAAAAAAAAAAAABESD/2gAIAQMBAT8BhMI//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAgEBPwGlwz//xAAaEAACAgMAAAAAAAAAAAAAAAAAARAyICEw/9oACAEBAAY/AqFCjFxUaeH/xAAfEAEAAgEEAwEAAAAAAAAAAAABEBEAITFBoVFhgdH/2gAIAQEAAT8hu5Z7MQvCPmDZC009/k1qb9zHg6gqyTbAFAQQaA1z/9oADAMBAAIAAwAAABAk0nzkL//EABgRAQADAQAAAAAAAAAAAAAAAAEAEDER/9oACAEDAQE/EKzKMiU6z//EABgRAQADAQAAAAAAAAAAAAAAAAEAEBEh/9oACAECAQE/EKGmYHk//8QAIBABAAICAQUBAQAAAAAAAAAAAQARITFREEFhwdFxsf/aAAgBAQABPxClalaLgv3iv2IGUZsFDfAv9gXCJydMzgzry8KlkX799LLLOctu7zTBQwn70qso53R28qw1HIAqTmCRguArvDUCDFNBWZ//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"\"\n        src=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/1c72d/1.jpg\"\n        srcset=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/a80bd/1.jpg 148w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/1c91a/1.jpg 295w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/1c72d/1.jpg 590w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/a8a14/1.jpg 885w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/15a737dee3f00b2776ecef53fc056b51/47311/1.jpg 1080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n<li>找到 77700189\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/47311/2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 208.10810810810813%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAqABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIFAQP/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAbantc4rbEX1NAAQ6T//xAAbEAACAgMBAAAAAAAAAAAAAAAAAgETEBEwMf/aAAgBAQABBQKlihilxfMa4Q0NmI0f/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAwEBPwGEwj//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/AaXDP//EABkQAAIDAQAAAAAAAAAAAAAAAAAhASAyMP/aAAgBAQAGPwLBgxIlzU0//8QAHhABAAEEAgMAAAAAAAAAAAAAAQAQESFhIDFBcfD/2gAIAQEAAT8h3Js0jEA9cQXyUu+YcyrknVSDYDM//9oADAMBAAIAAwAAABDH0AAAL//EABcRAQADAAAAAAAAAAAAAAAAAAEAESD/2gAIAQMBAT8QypS2f//EABgRAAIDAAAAAAAAAAAAAAAAAAABESAh/9oACAECAQE/EKkE8P/EACAQAQACAQQCAwAAAAAAAAAAAAEAETEQIUFRIGHR4fD/2gAIAQEAAT8QtLUrBcF+WK/VN1OWY56jXZDu9C8u6/MQVxXm5AFT71CDFNBU/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"\"\n        src=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/1c72d/2.jpg\"\n        srcset=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/a80bd/2.jpg 148w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/1c91a/2.jpg 295w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/1c72d/2.jpg 590w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/a8a14/2.jpg 885w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/82adaf75820a83ca819cb1fb9239eb55/47311/2.jpg 1080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n<li>其中的 tar 文件就是答答星球打包后的压缩包</li>\n<li>传到电脑解压拿到所有页面路径\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/85814/3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeXM6MAsCA//xAAVEAEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAQABBQJYJ//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABoQAAICAwAAAAAAAAAAAAAAAAABECERIDH/2gAIAQEAAT8hqEsqxxxr/9oADAMBAAIAAwAAABCQBzz/xAAVEQEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAwEBPxAj/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQIBAT8QY//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExEIGx/9oACAEBAAE/ELhTdmcwIhSkdT1Yttx1HfXH/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"\"\n        src=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/1c72d/3.jpg\"\n        srcset=\"https://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/a80bd/3.jpg 148w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/1c91a/3.jpg 295w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/1c72d/3.jpg 590w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/a8a14/3.jpg 885w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/fbd2c/3.jpg 1180w,\nhttps://cdn.jsdelivr.net/gh/EvilMouth/EvilMouth.github.io@gh-pages/static/8d571a9ed50a5ac264b44766a481fe7f/85814/3.jpg 1386w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h3>跳转</h3>\n<p>比方说想要跳转到答答星球的天天涨知识页面<code class=\"language-text\">pages/domain/home/index</code></p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> scheme <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"alipays://platformapi/startapp?appId=77700189&amp;page=pages%2Fdomain%2Fhome%2Findex\"</span></span>\n<span class=\"token keyword\">val</span> intent <span class=\"token operator\">=</span> <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span>Intent<span class=\"token punctuation\">.</span>ACTION_VIEW<span class=\"token punctuation\">,</span> Uri<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>scheme<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nintent<span class=\"token punctuation\">.</span><span class=\"token function\">addFlags</span><span class=\"token punctuation\">(</span>Intent<span class=\"token punctuation\">.</span>FLAG_ACTIVITY_NEW_TASK<span class=\"token punctuation\">)</span>\n<span class=\"token function\">startActivity</span><span class=\"token punctuation\">(</span>intent<span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"支付宝小程序指定页面跳转","date":"March 11, 2020","tags":["alipay","tinyapp","route"],"categories":"Android"}}},"pageContext":{"id":"1637aa95-aabc-57c8-b084-da6fe91c3429","previousPostId":"cefc4049-f684-5661-8a94-9d7b4227db57","nextPostId":"1d5773b5-5d1d-5203-b89d-2b71f16abd45"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}